# Drawing 0: 組件總覽圖

## 概述

組件總覽圖提供軌道系統的整體外觀，包含一張等角視圖與一張俯視圖，
搭配關鍵尺寸標註，供工程人員快速了解系統尺度。

## 圖面配置

```
┌────────────────────────────────────────────────────────────┐
│                                                            │
│   ┌──────────────────┐      ┌──────────────────┐          │
│   │                  │      │                  │          │
│   │   等角視圖       │      │   俯視圖         │          │
│   │   (Isometric)    │      │   (Top-Down)     │          │
│   │                  │      │                  │          │
│   │   ←─ 1092.4 ─→  │      │   ←─ 548.1 ─→   │          │
│   │                  │      │      R250        │          │
│   └──────────────────┘      └──────────────────┘          │
│                                                            │
│   ┌──────────────────────────────────────────────────────┐│
│   │                     標題欄                           ││
│   └──────────────────────────────────────────────────────┘│
└────────────────────────────────────────────────────────────┘
```

## 等角視圖（左）

### HLR 投影參數
- 視線方向 `main_dir`: `(1, 1, 1)` — 從右前上方觀看
- 水平軸提示 `x_hint`: `(-1, 1, 0)` — -X+Y 方向向右
- `flip_v`: `False`

### 尺寸標註
- **上軌兩端點內側距離**：軌道端點間的 3D 距離，X 方向扣除管徑後計算
- 計算公式：`sqrt((dx - pipe_d)² + dy² + dz²)`

## 俯視圖（右）

### HLR 投影參數
- 視線方向 `main_dir`: `(0, 0, -1)` — 從上往下看
- 水平軸提示 `x_hint`: `(0, 1, 0)` — model Y 向右
- `flip_v`: `False`

### 尺寸標註
- **軌道端點外側跨距**：模型 X 方向最大跨距 + 管徑
- 計算公式：`(x_max - x_min) + pipe_diameter`
- **弧半徑標註**：使用實際弧半徑 `R250`（非端點距離）

## 標題欄

由 `_build_tb_info()` 統一建構：
- 圖面名稱：彎軌軌道總圖
- 圖號：`{base_name}`（如 2-2）
- 其餘欄位依優先順序取值

## 參考圖片

參考：`test/2-2-0.jpg`

## 生成程式

相關函數：
- `generate_overview_drawing()` — Drawing 0 主要生成邏輯
- `_hlr_project_to_polylines()` — HLR 投影引擎
